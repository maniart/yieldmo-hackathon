var ymUIKit=ymUIKit||{};ymUIKit.formElements={calendars:{},init:function(){function a(a){ymUIKit.utils.elementIsBlank(a)?ymUIKit.formElements.textInputRestingState(a):ymUIKit.formElements.textInputActiveState(a)}function b(a){a.onfocus=function(){ymUIKit.formElements.textInputActiveState(a)},a.onblur=function(){ymUIKit.utils.elementIsBlank(a)&&ymUIKit.formElements.textInputRestingState(a)},a.onkeyup=function(b){ymUIKit.formElements.updateCharacterLimit(),ymUIKit.utils.elementIsBlank(a)?ymUIKit.formElements.textInputRestingState(a):ymUIKit.formElements.textInputActiveState(a)},ymUIKit.formElements.addCharacterLimit(a)}function c(a){a.onchange=function(b){ymUIKit.formElements.updateColorElement(a)}}function d(a){var b=function(){if(document.getElementById("highsmithCal--offClicker")){document.getElementById("highsmithCal--offClicker").click(),ymUIKit.formElements.blurredByTab=!0;for(var a=document.getElementsByClassName("ymb_input-date"),b=0;b<a.length;b++){var c=a[b];ymUIKit.formElements.textInputRestingState(c)}}},c=document.getElementsByTagName("*");c=Array.prototype.slice.call(c),c.forEach(function(a){a.addEventListener("scroll",b)}),window.document.onkeyup=function(a){9==a.keyCode&&(document.getElementById("highsmithCal--offClicker")&&document.getElementById("highsmithCal--offClicker").click(),ymUIKit.formElements.blurredByTab=!0)},a.onfocus=function(b){ymUIKit.formElements.textInputActiveState(a),setTimeout(function(){a.nextSibling.nextSibling?a.nextSibling.nextSibling.click():a.nextSibling&&a.nextSibling.click()},200)},a.onblur=function(b){setTimeout(function(){if(document.getElementById("highsmithCal")){if(!ymUIKit.formElements.blurredByTab)return void a.focus();ymUIKit.formElements.blurredByTab=!1}ymUIKit.utils.elementIsBlank(a)&&ymUIKit.formElements.textInputRestingState(a)},550)},a.id&&(ymUIKit.formElements.calendars[a.id]=new Highsmith(a.id))}function e(a){a.onclick=function(){if(a.dataset&&a.dataset.iconFor){var b=a.dataset.iconFor,c=document.getElementById(b),d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});c.dispatchEvent(d),c.focus(),ymUIKit.formElements.textInputActiveState(c)}}}function f(a){a.ondragenter=function(a){ymUIKit.utils.addClassName(a.srcElement,"ymb_input-file-dragover")},a.ondragleave=function(a){ymUIKit.utils.removeClassName(a.srcElement,"ymb_input-file-dragover")};for(var b="ymb_file-input-browse",c=document.getElementsByClassName(b),d=0;d<c.length;d++){var e=c[d];e.onclick=function(a){var b=a.srcElement,c=b.className;if(-1!=c.search("empty")){var d=b.parentElement;d&&d.click()}}}}function g(a){a.onclick=function(a){var b,c,d,e,f=a.srcElement,g=f.nextSibling.nextSibling||f.nextSibling;-1!=f.className.search("closed")?(b="ymb_input-drawer-header-closed",c="ymb_input-drawer-header-open",d="ymb_input-drawer-contents-closed",e="ymb_input-drawer-contents-open"):(b="ymb_input-drawer-header-open",c="ymb_input-drawer-header-closed",d="ymb_input-drawer-contents-open",e="ymb_input-drawer-contents-closed"),ymUIKit.utils.updateClassName(f,b,c),ymUIKit.utils.updateClassName(g,d,e)}}function h(a){a.onclick=function(a){var b=a.srcElement.nextSibling.nextSibling||a.srcElement.nextSibling,c="ymb_input-select-option-wrapper-closed",d="ymb_input-select-option-wrapper-opened";ymUIKit.utils.updateClassName(b,c,d)},a.onfocus=function(a){var b=a.srcElement.nextSibling.nextSibling||a.srcElement.nextSibling,c="ymb_input-select-option-wrapper-closed",d="ymb_input-select-option-wrapper-opened";ymUIKit.utils.updateClassName(b,c,d)},a.onblur=function(a){setTimeout(function(){var b=a.srcElement.nextSibling.nextSibling||a.srcElement.nextSibling,c="ymb_input-select-option-wrapper-opened",d="ymb_input-select-option-wrapper-closed";ymUIKit.utils.updateClassName(b,c,d)},100)},window.document.onclick=function(a){var b=a.srcElement,c="ymb_input-select-option-wrapper-opened",d="ymb_input-select-option-wrapper-closed",e=document.getElementsByClassName("ymb_input-select-option-wrapper");if(b&&-1==b.className.search("ymb_input-select-option"))if("ymb_input-select"==b.className)for(var f=b.nextSibling.nextSibling||a.srcElement.nextSibling,g=0;g<e.length;g++){var h=e[g];h!=f&&ymUIKit.utils.updateClassName(h,c,d)}else for(var g=0;g<e.length;g++){var h=e[g];ymUIKit.utils.updateClassName(h,c,d)}}}function i(a){function b(a){var b=a.getElementsByClassName("ymb_input-select");return b[0]?b[0]:void 0}function c(a){return-1!==a.className.search("ymb_input-select-wrapper")?a:c(a.parentElement)}a.onclick=function(a){var d=a.srcElement,e=d.innerHTML,f=c(d.parentElement),g=b(f),h="ymb_input-select-option-wrapper-opened",i="ymb_input-select-option-wrapper-closed";ymUIKit.utils.updateClassName(f,h,i),g.value=e}}function j(a,b){for(var c=document.getElementsByClassName(a),d=0;d<c.length;d++)for(var e=c[d],f=0;f<b.length;f++){var g=b[f];g(e)}}j("ymb_input-text",[b,a]),j("ymb_input-text-color",[b,a]),j("ymb_input-color",[c]),j("ymb_input-date",[d]),j("ymb_input-date-icon",[e]),j("ymb_input-file",[f]),j("ymb_input-drawer-header",[g]),j("ymb_input-select",[h]),j("ymb_input-select-option",[i])},updateCharacterLimit:function(a){if(a&&a.srcElement){var b=a.srcElement;if(b.dataset&&b.dataset.characterLimit){var c,d=b.dataset.characterLimit,e="ymb_form-element-character-limit-valid",f="ymb_form-element-character-limit-invalid",g="ymb_input-text-label-invalid",h=b.nextSibling.nextSibling||a.srcElement.nextSibling;ymUIKit.utils.updateClassName(h,f,e),ymUIKit.utils.removeClassName(b,g),b.value?(c=String(b.value).length+"/"+String(d),b.value.length>Number(d)?(ymUIKit.utils.updateClassName(h,e,f),ymUIKit.utils.addClassName(b,g),b.dataset.invalid=!0):b.dataset.invalid=!1):(c="0/"+String(d),b.dataset.invalid=!1),h.innerHTML=c}}},fileDropListener:function(a){function b(a,b){b.className=b.className.replace("dropped","empty");var c=b.previousSibling.previousSibling||b.previousSibling,d=b.previousSibling.parentElement||b.parentElement,e="Click here or drag a file";d.dataset&&d.dataset.originalLabelText&&(e=d.dataset.originalLabelText),c&&(c.innerHTML=e),b.onclick=function(a){var b=a.srcElement,c=b.className;if(-1!=c.search("empty")){var d=b.parentElement;d&&d.click()}}}var c=document.getElementById(a);ymUIKit.utils.removeClassName(c,"ymb_input-file-dragover");var d="File Added!";c.dataset&&c.dataset.fileDroppedMessage&&(d=c.dataset.fileDroppedMessage);for(var e=document.getElementById(a),f=e.childNodes,g=0;g<f.length;g++){var h=f[g],i=h.className;if(i){if(-1!=i.search("ymb_file-input-desc")){c.dataset.originalLabelText=h.innerHTML;var j='<img src="http://s3.amazonaws.com/static.yieldmo.com/icons/beta/green-check.png" class="ymb_file-input-green-checkmark"/>';h.innerHTML=j+d}-1!=i.search("ymb_file-input-browse")&&(h.className=h.className.replace("empty","dropped"),h.onclick=function(a){var c=a.target;if(c.className){var d=c.className;-1!=d.search("dropped")&&b(a,c)}})}}},textInputActiveState:function(a){var b="ymb_input-text-resting",c="ymb_input-text-active";ymUIKit.utils.updateClassName(a,b,c);var d=a.previousSibling.previousSibling||a.previousSibling,e="ymb_input-text-label-resting",f="ymb_input-text-label-active";d&&ymUIKit.utils.updateClassName(d,e,f)},textInputRestingState:function(a){var b="ymb_input-text-active",c="ymb_input-text-resting";if(ymUIKit.utils.updateClassName(a,b,c),ymUIKit.utils.elementIsBlank(a)){var d=a.previousSibling.previousSibling||a.previousSibling,e="ymb_input-text-label-active",f="ymb_input-text-label-resting";d&&ymUIKit.utils.updateClassName(d,e,f)}},addCharacterLimit:function(a){if(a.dataset&&a.dataset.characterLimit){var b=a.dataset.characterLimit,c=document.createElement("em");c.className="ymb_form-element-character-limit ymb_form-element-character-limit-valid";var d;if(a.value){var e=String(a.value).length;d=e+"/"+String(b)}else d="0/"+String(b);c.innerHTML=d;var f=a.parentElement.getElementsByClassName("ymb_form-element-character-limit");f.length||a.parentElement.appendChild(c)}},updateColorElement:function(a){if(a.dataset&&a.dataset.colorFor){var b=a.value,c=document.getElementById(a.dataset.colorFor);b?(c.value=b,ymUIKit.formElements.textInputActiveState(c)):ymUIKit.formElements.textInputRestingState(c)}}},Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var a=this.length-1;a>=0;a--)this[a]&&this[a].parentElement&&this[a].parentElement.removeChild(this[a])};var ymUIKit=ymUIKit||{};setTimeout(function(){ymUIKit.init()},1e3),ymUIKit.init=function(){ymUIKit.setupMenuListeners(),ymUIKit.formElements.init(),ymUIKit.progressIndicators.init()},ymUIKit.setupMenuListeners=function(){function a(){var a=document.getElementById("ymb_header-menu-bars"),b=a.className;-1!=b.search("active")?ymUIKit.ymb_toggleYieldmoMenuOff():ymUIKit.ymb_toggleYieldmoMenuOn()}document.getElementById("ymb_header-menu-bars")&&(ymUIKit.menuListenerTimer&&window.clearInterval(ymUIKit.menuListenerTimer),ymUIKit.menuListenerTimer=setTimeout(function(){var b=document.getElementById("ymb_header-menu-bars"),c=b.cloneNode(!0);b.parentNode.replaceChild(c,b),c.addEventListener("click",a)},100))},ymUIKit.ymb_toggleYieldmoMenuOn=function(){var a=ymUIKit.utils.updateClassNameById,b=ymUIKit.utils.addClassNameById;a("ymb_header-menu-bars","initial","active"),a("ymb_header-bar","initial","active"),a("ymb_sidenav","initial","active"),b("ymb_header-logo","ymb_header-logo-active"),b("ymb_header-application-name","ymb_header-application-name-active"),ymUIKit.utils.updateLinkOpacity("0.0")},ymUIKit.ymb_toggleYieldmoMenuOff=function(){var a=ymUIKit.utils.updateClassNameById,b=ymUIKit.utils.removeClassNameById;a("ymb_header-menu-bars","active","initial"),a("ymb_header-bar","active","initial"),a("ymb_sidenav","active","initial"),b("ymb_header-logo","ymb_header-logo-active"),b("ymb_header-application-name","ymb_header-application-name-active"),ymUIKit.utils.updateLinkOpacity("1.0")};var ymUIKit=ymUIKit||{};ymUIKit.progressIndicators={init:function(){ymUIKit.progressIndicators.setupProgressIndicators()},setupProgressIndicators:function(){for(var a=document.getElementsByClassName("ymb_progress-indicator"),b=0;b<a.length;b++){var c=a[b];ymUIKit.progressIndicators.fillProgressIndicator(c)}},fillProgressIndicator:function(a){a.innerHTML="";var b=a.dataset,c=Number(b.totalSteps),d=Number(b.currentStep);if(!c||!d){var e="Please include data-total-steps and data-current step with each progress indicator element.";return void console.error(e)}for(var f=0;c>f;f++){var g=ymUIKit.progressIndicators.createCircle(f,d);a.appendChild(g);var h=ymUIKit.progressIndicators.createStepBar(f,d);c-1>f&&a.appendChild(h)}},createCircle:function(a,b){var c,d=document.createElement("label"),e=a+1;return c=b>e?"complete":e==b?"active":"empty",d.className="ymb_progress-indicator-number ymb_progress-indicator-number-"+c+" ymb_font-bold",d.title=a,d.innerHTML=e,d},createStepBar:function(a,b){var c,d=document.createElement("label"),e=document.createElement("label"),f=a+1;return c=b>f?"filled":"empty",d.className="ymb_progress-indicator-bar-wrapper",e.className="ymb_progress-indicator-bar-inner ymb_progress-indicator-bar-inner-"+c,e.title=a,d.appendChild(e),d},moveForward:function(a){var b=document.getElementById(a),c=b.dataset.currentStep,d=b.dataset.totalSteps,e=Number(c)+1;return c>d?b.dataset:ymUIKit.progressIndicators.goToStep(a,e)},moveBackward:function(a){var b=document.getElementById(a),c=b.dataset.currentStep,d=Number(c)-1;return 1==c?b.dataset:ymUIKit.progressIndicators.goToStep(a,d)},goToStep:function(a,b){var c=document.getElementById(a),d=c.dataset.totalSteps,e="ymb_progress-indicator-number-active",f="ymb_progress-indicator-number-empty",g="ymb_progress-indicator-number-complete",h="ymb_progress-indicator-bar-inner-empty",i="ymb_progress-indicator-bar-inner-filled",j="ymb_progress-indicator-number",k="ymb_progress-indicator-bar-inner",l=c.getElementsByClassName(j),m=c.getElementsByClassName(k);1>b&&(b=1),b>d&&(b=Number(d)+1);for(var n=0;n<l.length;n++){var o=l[n],p=n+1;b>p?(ymUIKit.utils.removeClassName(o,f),ymUIKit.utils.removeClassName(o,e),ymUIKit.utils.addClassName(o,g)):p==b?(ymUIKit.utils.removeClassName(o,f),ymUIKit.utils.addClassName(o,e),ymUIKit.utils.removeClassName(o,g)):p>b&&(ymUIKit.utils.addClassName(o,f),ymUIKit.utils.removeClassName(o,e),ymUIKit.utils.removeClassName(o,g))}for(var n=0;n<m.length;n++){var q=m[n],r=n+1;b>r?(ymUIKit.utils.addClassName(q,i),ymUIKit.utils.removeClassName(q,h)):(ymUIKit.utils.removeClassName(q,i),ymUIKit.utils.addClassName(q,h))}return c.dataset.currentStep=b,c.dataset}};var ymUIKit=ymUIKit||{};ymUIKit.utils={elementIsBlank:function(a){return""===a.value||!a.value},updateClassNameById:function(a,b,c){if(document.getElementById(a)){var d=document.getElementById(a);ymUIKit.utils.updateClassName(d,b,c)}},updateClassName:function(a,b,c){return a&&a.className?a.className=a.className.replace(b,c):void 0},addClassNameById:function(a,b){if(document.getElementById(a)){var c=document.getElementById(a);ymUIKit.utils.addClassName(c,b)}},addClassName:function(a,b){a&&a.className&&-1==a.className.search(b)&&(a.className=a.className+" "+b)},removeClassNameById:function(a,b){if(document.getElementById(a)){var c=document.getElementById(a);ymUIKit.utils.removeClassName(c,b)}},removeClassName:function(a,b){a&&a.className&&-1!=a.className.search(b)&&(a.className=a.className.replace(b,""))},updateLinkOpacity:function(a){for(var b=document.getElementsByClassName("ymb_header-topnav-link"),c=0;c<b.length;c++)b[c].style.opacity=a}};